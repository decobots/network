<!DOCTYPE html>
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
	<script type="text/javascript" src="phonegap.js"></script>
	<script type="text/javascript">
	
var timer;
var net;

function init(){
     document.addEventListener("deviceready", onDeviceReady, false);
}
function onDeviceReady(){
	net=navigator.connection.type;
	document.getElementById("Net_type").innerHTML=net;
    	document.addEventListener("online", onLine, false);
    	document.addEventListener("offline", offLine, false);
}
function onLine(){
	timer=setInterval(changeNet, 1000);
	$( ":mobile-pagecontainer" ).pagecontainer( "change", "#p1");
	navigator.notification.beep(2);
	
	
}
function offLine(){
	clearInterval(timer);
	$( ":mobile-pagecontainer" ).pagecontainer( "change", "#p2", {role: "dialog"});
	navigator.notification.vibrate(100);
	
}
function changeNet(){
	if (net!=navigator.connection.type){
		net=navigator.connection.type;
		document.getElementById("Net_type").innerHTML=net;
	}
}
</script>        
</head>
<body onload="init()">
<!-- page1========================================================================================== -->
<div data-role="page" data-theme="a" id="p1">

	<div data-role="header">
		<h1>Photo</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
        	<p>Подключенно к сети:</p>
        	<p id="Net_type"></p>
	</div><!-- /content -->

	<div data-role="footer">
	</div><!-- /footer -->
</div><!-- /page -->

<!-- page2==================================================================================================================== -->
<div data-role="page" data-trancition="slide" id="p2" data-close-btn="none">

	<div data-role="header">
		<h1>!!!</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
        	<h1>НЕТ СОЕДИНЕНИЯ</h1>
	</div><!-- /content -->

	<div data-role="footer">
	<h1>!!!</h1>
	</div><!-- /footer -->
</div><!-- /page -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
<!-- page1==================================================================================================================== -->
</body>
</html>
